üß© –°—É—â–Ω–æ—Å—Ç–∏ –∏ –∏—Ö –æ–ø–∏—Å–∞–Ω–∏–µ:
1. users ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
–•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö.

id
INTEGER PRIMARY KEY
–£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
username
TEXT
–õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
email
TEXT UNIQUE
Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
password_hash
TEXT
–•—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å
created_at
DATETIME
–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

2. listings ‚Äî –æ–±—ä—è–≤–ª–µ–Ω–∏—è
–°–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ–± –æ–±—ä—è–≤–ª–µ–Ω–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –ø—Ä–æ–¥–∞–∂—É –∏–ª–∏ –æ–±–º–µ–Ω.

id
INTEGER PRIMARY KEY
–£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –æ–±—ä—è–≤–ª–µ–Ω–∏—è
user_id
INTEGER
–í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –∫
users(id)
title
TEXT
–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
description
TEXT
–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞
game
TEXT
–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã
price
REAL
–¶–µ–Ω–∞ (–µ—Å–ª–∏ –ø—Ä–æ–¥–∞–∂–∞)
is_exchange
BOOLEAN
–í–æ–∑–º–æ–∂–µ–Ω –ª–∏ –æ–±–º–µ–Ω
exchange_for
TEXT
–ù–∞ —á—Ç–æ –≥–æ—Ç–æ–≤ –æ–±–º–µ–Ω—è—Ç—å—Å—è
image_url
TEXT
–°—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
created_at
DATETIME
–î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
is_completed
BOOLEAN
–í—ã–ø–æ–ª–Ω–µ–Ω–æ –ª–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ

3. messages ‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)
–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–≤—è–∑—ã–≤–∞—Ç—å—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º.

id
INTEGER PRIMARY KEY
–£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Å–æ–æ–±—â–µ–Ω–∏—è
from_user_id
INTEGER
–ö—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏–ª
to_user_id
INTEGER
–ö–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
text
TEXT
–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
sent_at
DATETIME
–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏

üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏:
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –º–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π ‚Üí –æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º (users ‚Üí listings)
–°–æ–æ–±—â–µ–Ω–∏—è —Å–≤—è–∑—ã–≤–∞—é—Ç –¥–≤—É—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (from_user_id –∏ to_user_id ‚Üí users.id)


üßæ –ü—Ä–∏–º–µ—Ä SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü:
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT NOT NULL,
    email TEXT UNIQUE NOT NULL,
    password_hash TEXT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–π
CREATE TABLE listings (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    title TEXT NOT NULL,
    description TEXT,
    game TEXT NOT NULL,
    price REAL,
    is_exchange BOOLEAN DEFAULT 0,
    exchange_for TEXT,
    image_url TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    is_completed BOOLEAN DEFAULT 0,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–æ–±—â–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
CREATE TABLE messages (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    from_user_id INTEGER NOT NULL,
    to_user_id INTEGER NOT NULL,
    text TEXT NOT NULL,
    sent_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (from_user_id) REFERENCES users(id),
    FOREIGN KEY (to_user_id) REFERENCES users(id)
);

